<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: functions/dataModel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: functions/dataModel.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as serviceFetch from './fetchData.js';
import * as serviceMock from './mockData.js';

const service =
  process.env.REACT_APP_MOCK === 'true' ? serviceMock : serviceFetch;

/**
 * Class to Data Modeling
 */
class DataModel {
  /**
   * @property { Function } getActivity Fetch or Mock Activity Data
   * @param { String } id User ID
   * @returns { Promise }
   */
  static getActivity(id) {
    return service.getActivity(id).then((result) => ({
      sessions: result.data.sessions,
    }));
  }

  /**
   * @property { Function } getPerformance Fetch or Mock Performance Data
   * @param { String } id User ID
   * @returns { Promise }
   */
  static getPerformance(id) {
    return service.getPerformance(id).then((result) => ({
      data: [
        {
          value: result.data.data[0].value,
          kind: result.data.kind[1],
        },
        {
          value: result.data.data[1].value,
          kind: result.data.kind[2],
        },
        {
          value: result.data.data[2].value,
          kind: result.data.kind[3],
        },
        {
          value: result.data.data[3].value,
          kind: result.data.kind[4],
        },
        {
          value: result.data.data[4].value,
          kind: result.data.kind[5],
        },
        {
          value: result.data.data[5].value,
          kind: result.data.kind[6],
        },
      ],
    }));
  }

  /**
   * @property { Function } getSessions Fetch or Mock Sessions Data
   * @param { String } id User ID
   * @returns { Promise }
   */
  static getSessions(id) {
    return service.getSessions(id).then((result) => ({
      sessions: result.data.sessions,
    }));
  }

  /**
   * @property { Function } getUser Fetch or Mock User Data
   * @param { String } id User ID
   * @returns { Promise }
   */
  static getUser(id) {
    return service.getUser(id).then((result) => ({
      id: result.data.id,
      firstName: result.data.userInfos.firstName,
      score: [
        {
          number: result.data.score * 100 || result.data.todayScore * 100,
          fill: 'red',
        },
        { number: 100, fill: 'transparent' },
      ],
      stats: {
        calorie: result.data.keyData.calorieCount,
        protein: result.data.keyData.proteinCount,
        carbohydrate: result.data.keyData.carbohydrateCount,
        lipid: result.data.keyData.lipidCount,
      },
    }));
  }
}

export default DataModel;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DataModel.html">DataModel</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getActivity">getActivity</a></li><li><a href="global.html#getPerformance">getPerformance</a></li><li><a href="global.html#getSessions">getSessions</a></li><li><a href="global.html#getUser">getUser</a></li><li><a href="global.html#theme">theme</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue Mar 22 2022 09:33:45 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
